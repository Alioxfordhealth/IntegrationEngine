<?xml version="1.0" encoding="UTF-8"?>
<package lastModified="1539683600600" targetNamespace="Package archive generation" version="2.40.1.0" xmlns="http://www.bpmi.org/2002/BPML/process"><process id="c77428cc" name="Package archive generation"><context/><action comment="false" id="9bd97d0f" name="Package archive generation" nomAffiche="Export packages"><documentation/><input formatter="XML" property="InputMessage"/><output><source property="InputMessage"/></output><action comment="false" id="409e6d6b" name="actionActivity" nomAffiche="Extract content"><documentation/><input formatter="XML" property="InputMessage"/><output><source property="InputMessage"/></output><attributes xmlns=""><extension name="activityName">getContent</extension><extension name="numContent">1</extension><extension name="decode">true</extension><extension name="throwException">true</extension></attributes></action><action comment="false" id="80975153" name="actionActivity" nomAffiche="Find property - Packaging - Other files directory"><documentation/><input formatter="Texte" property="nomRepertoireAutresFichiers"/><attributes xmlns=""><extension name="activityName">recherchePropriete</extension><extension name="application_source">true</extension><extension name="application"/><extension name="nom_propriete">Packaging - Other files directory</extension><extension name="useOutputEncoding">true</extension></attributes></action><action comment="false" id="b794629d" name="actionActivity" nomAffiche="Find property - Packaging - Documentation directory"><documentation/><input formatter="Texte" property="nomRepertoireDocumentation"/><attributes xmlns=""><extension name="activityName">recherchePropriete</extension><extension name="application_source">true</extension><extension name="application"/><extension name="nom_propriete">Packaging - Documentation directory</extension><extension name="useOutputEncoding">true</extension></attributes></action><action comment="false" id="1cb9925e" name="actionActivity" nomAffiche="Find property - Packaging - Work directory"><documentation/><input formatter="Texte" property="nomRepertoireDeTravail"/><attributes xmlns=""><extension name="activityName">recherchePropriete</extension><extension name="application_source">true</extension><extension name="application"/><extension name="nom_propriete">Packaging - Work directory</extension><extension name="useOutputEncoding">true</extension></attributes></action><action comment="false" id="4393d5b3" name="actionActivity" nomAffiche="Find property - Packaging - Installation directory"><documentation/><input formatter="Texte" property="nomRepertoireEAI"/><attributes xmlns=""><extension name="activityName">recherchePropriete</extension><extension name="application_source">true</extension><extension name="application"/><extension name="nom_propriete">Packaging - Installation directory</extension><extension name="useOutputEncoding">true</extension></attributes></action><action comment="false" id="8a85ef54" name="actionActivity" nomAffiche="XPath Query - filename"><documentation/><input formatter="Texte" property="fileName"/><output><source property="InputMessage"/></output><attributes xmlns=""><extension name="activityName">requeteXpath</extension><extension name="requete_xpath">concat(//connectorDescription/file/text(), '_',  translate(//connectorDescription/version/text(), '.', '-'), '.zip')</extension><extension name="root_name"/><extension name="actionVide">chainevide</extension><extension name="useOutputEncoding">true</extension><extension name="xpathVersion1">false</extension></attributes></action><action comment="false" id="cbb5f0ca" name="actionActivity" nomAffiche="Current Date - yyyyMMddHHmmssS"><documentation/><input formatter="Texte" property="nomRepertoireTemporaire"/><attributes xmlns=""><extension name="activityName">dateCourante</extension><extension name="daysToAdd"/><extension name="daysToRemove"/><extension name="hoursToRemove"/><extension name="minutesToAdd"/><extension name="monthsToAdd"/><extension name="hoursToAdd"/><extension name="format">yyyyMMddHHmmssS</extension><extension name="monthsToRemove"/><extension name="minutesToRemove"/></attributes></action><action comment="false" id="694e117" name="actionActivity" nomAffiche="Run script - Creates directory structure"><documentation/><input formatter="Texte" property="execscriptResponse_1"/><output><source property="nomRepertoireDeTravail"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="argsName0">repertoire</extension><extension name="argsVal0">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;</extension><extension name="nbArgs">1</extension><extension name="scriptText">(new java.io.File(repertoire)).mkdir();@%$LF$%@(new java.io.File(repertoire+"/otherFiles")).mkdir();@%$LF$%@(new java.io.File(repertoire+"/enovacomFileFormat")).mkdir();@%$LF$%@(new java.io.File(repertoire+"/scenarios")).mkdir();@%$LF$%@(new java.io.File(repertoire+"/schemas")).mkdir();@%$LF$%@(new java.io.File(repertoire+"/stylesheets")).mkdir();@%$LF$%@(new java.io.File(repertoire+"/tables")).mkdir();@%$LF$%@(new java.io.File(repertoire+"/xmap")).mkdir();@%$LF$%@(new java.io.File(repertoire+"/doc")).mkdir();@%$LF$%@outputString="OK";</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><action comment="false" id="a5731e13" name="actionActivity" nomAffiche="Create message - Database configuration template infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">creationMessage</extension><extension name="user_message">&lt;infosBDD&gt;@%$LF$%@&lt;moteur/&gt;@%$LF$%@&lt;ressources/&gt;@%$LF$%@&lt;formats/&gt;@%$LF$%@&lt;modeles/&gt;@%$LF$%@&lt;applis/&gt;@%$LF$%@&lt;proprietes/&gt;@%$LF$%@&lt;typeDocs/&gt;@%$LF$%@&lt;signalements/&gt;@%$LF$%@&lt;utilisateurs/&gt;@%$LF$%@&lt;groupes/&gt;@%$LF$%@&lt;/infosBDD&gt;</extension><extension name="useOutputEncoding">true</extension></attributes></action><sequence comment="false" id="fe35f5bf" name="sequenceActivity" nomAffiche="Sequence - Documentation" open="true"><documentation/><context/><action comment="false" id="e055f16f" name="actionActivity" nomAffiche="XPath Query - documentName"><documentation/><input formatter="Texte" property="documentName"/><output><source property="InputMessage"/></output><attributes xmlns=""><extension name="activityName">requeteXpath</extension><extension name="requete_xpath">/connectorDescription/doc/text()</extension><extension name="root_name">root</extension><extension name="actionVide">chainevide</extension><extension name="useOutputEncoding">true</extension><extension name="xpathVersion1">true</extension></attributes></action><switch id="e25de3dc" name="switchActivity"><case comment="false" id="acaa4201" nomAffiche="If - documentName is not empty" open="true"><documentation/><condition expression="$documentName; != ''"/><context/><action comment="false" id="fd536d4a" name="actionActivity" nomAffiche="Run script - Copy File to temp directory"><documentation/><input formatter="Texte" property="execscriptResponse_1"/><output><source property="documentName"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="argsName0">source</extension><extension name="argsVal0">$nomRepertoireDocumentation;/$documentName;</extension><extension name="argsName1">cible</extension><extension name="argsVal1">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;/doc/$documentName;</extension><extension name="nbArgs">2</extension><extension name="scriptText">java.nio.file.Files.copy(java.nio.file.Paths.get(source), java.nio.file.Paths.get(cible));@%$LF$%@outputString="OK";</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><assign comment="false" formatter="Texte" id="a16542dc" name="assignActivity" nomAffiche="Assign variable - Documentation : nomDocumentPDF - APP3" property="InputDonneeapp3"><documentation/><source/><value>Documentation : $documentName;</value></assign></case><default comment="false" id="ab70329e" nomAffiche="Else" open="true"><condition/><context/><assign comment="false" formatter="Texte" id="d7b04f8c" name="assignActivity" nomAffiche="Assign variable - Documentation : nomDocumentPDF - APP3" property="InputDonneeapp3"><documentation/><source/><value>Documentation : none</value></assign></default></switch></sequence><foreach comment="false" formatter="Texte" id="180903af" name="foreachActivity" nomAffiche="For Each - InputMessage - Other files" open="true" select="//otherFiles/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="afd760b3" name="actionActivity" nomAffiche="Run script - Copy other files into tmp directory"><documentation/><input formatter="Texte" property="execscriptResponse_1"/><output><source property="current"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="argsName0">source</extension><extension name="argsVal0">$nomRepertoireAutresFichiers;/$current;</extension><extension name="argsName1">cible</extension><extension name="argsVal1">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;/otherFiles/$current;</extension><extension name="nbArgs">2</extension><extension name="scriptText">java.nio.file.Files.copy(java.nio.file.Paths.get(source), java.nio.file.Paths.get(cible));@%$LF$%@outputString="OK";</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="3f37cdfe" name="foreachActivity" nomAffiche="For Each - InputMessage - Inbound Services" open="true" select="//inboundServices/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="6bdc8e87" name="actionActivity" nomAffiche="Select - Inbound Service resource from DB"><documentation/><input formatter="XML" property="serviceEntreeXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select r.* from ressource r where r.nom='$current;' and r.type='SERVICE_IN'</extension></attributes></action><action comment="false" id="aab07696" name="actionActivity" nomAffiche="Insert XML - Inbound Service into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources</extension><extension name="sourceMessage">serviceEntreeXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="ae57034f" name="actionActivity" nomAffiche="Select -  Inbound Service properties from DB"><documentation/><input formatter="XML" property="serviceEntreeXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pr.* from ressource r, propressource pr where r.pk_ressource = pr.pk_ressource(+) and r.nom='$current;' and r.type='SERVICE_IN' and SUBSTR(pr.nom,1,5) != 'notif'</extension></attributes></action><action comment="false" id="dd3e8c85" name="actionActivity" nomAffiche="Insert XML - Inbound Service properties into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources/row[NOM='$current;'][TYPE='SERVICE_IN']</extension><extension name="sourceMessage">serviceEntreeXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="3931ae8a" name="foreachActivity" nomAffiche="For Each - InputMessage - Outbound Services" open="true" select="//outboundServices/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="597ec25c" name="actionActivity" nomAffiche="Select - Outbound Service resource from DB"><documentation/><input formatter="XML" property="serviceSortieXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select r.* from ressource r where r.nom='$current;' and r.type='SERVICE_OUT'</extension></attributes></action><action comment="false" id="ad7ee779" name="actionActivity" nomAffiche="Insert XML - Outbound Service resource into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources</extension><extension name="sourceMessage">serviceSortieXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="89be52cd" name="actionActivity" nomAffiche="Select - Outbound Service properties from DB"><documentation/><input formatter="XML" property="serviceSortieXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pr.* from ressource r, propressource pr where r.pk_ressource = pr.pk_ressource(+) and r.nom='$current;' and r.type='SERVICE_OUT' and SUBSTR(pr.nom,1,5) != 'notif'</extension></attributes></action><action comment="false" id="8bc92ba9" name="actionActivity" nomAffiche="Insert XML - Outbound Service properties into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources/row[NOM='$current;'][TYPE='SERVICE_OUT']</extension><extension name="sourceMessage">serviceSortieXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="fb0e386" name="foreachActivity" nomAffiche="For Each - InputMessage - Scenarios (BPML)" open="true" select="//scenarios/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="563da328" name="actionActivity" nomAffiche="Run script - Copy scenario bpml into temp folder"><documentation/><input formatter="Texte" property="execscriptResponse_1"/><output><source property="current"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="argsName0">source</extension><extension name="argsVal0">$nomRepertoireEAI;/Scenario/$current;/$current;.bpml</extension><extension name="argsName1">cible</extension><extension name="argsVal1">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;/scenarios/$current;.bpml</extension><extension name="nbArgs">2</extension><extension name="scriptText">java.nio.file.Files.copy(java.nio.file.Paths.get(source), java.nio.file.Paths.get(cible));@%$LF$%@outputString="OK";</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><action comment="false" id="ea320aa8" name="actionActivity" nomAffiche="Select - Scenario from DB - scenarioXML"><documentation/><input formatter="XML" property="scenarioXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select r.* from ressource r where r.nom='$current;' and r.type='WORKFLOW'</extension></attributes></action><action comment="false" id="f7024d54" name="actionActivity" nomAffiche="Insert XML - scenarioXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources</extension><extension name="sourceMessage">scenarioXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="1aede666" name="foreachActivity" nomAffiche="For Each - InputMessage - Stylesheets (XSLT)" open="true" select="//stylesheets/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="40d1cc49" name="actionActivity" nomAffiche="Run script - Copy stylesheet to tmp directory"><documentation/><input formatter="Texte" property="execscriptResponse_1"/><output><source property="current"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="argsName0">source</extension><extension name="argsVal0">$nomRepertoireEAI;/StyleSheet/$current;</extension><extension name="argsName1">cible</extension><extension name="argsVal1">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;/stylesheets/$current;</extension><extension name="nbArgs">2</extension><extension name="scriptText">java.nio.file.Files.copy(java.nio.file.Paths.get(source), java.nio.file.Paths.get(cible));@%$LF$%@outputString="OK";</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="e02b5eae" name="foreachActivity" nomAffiche="For Each - InputMessage - Schema (XSD)" open="true" select="//schemas/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="fc2b71f8" name="actionActivity" nomAffiche="Run script - Copy schema to tmp directory"><documentation/><input formatter="Texte" property="execscriptResponse_1"/><output><source property="current"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="argsName0">source</extension><extension name="argsVal0">$nomRepertoireEAI;/Schema/$current;</extension><extension name="argsName1">cible</extension><extension name="argsVal1">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;/schemas/$current;</extension><extension name="nbArgs">2</extension><extension name="scriptText">java.nio.file.Files.copy(java.nio.file.Paths.get(source), java.nio.file.Paths.get(cible));@%$LF$%@outputString="OK";</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="adf3d79f" name="foreachActivity" nomAffiche="For Each - InputMessage - Mappings (XMAP)" open="true" select="//mappings/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="7581c705" name="actionActivity" nomAffiche="Run script - Copy mapping to tmp"><documentation/><input formatter="Texte" property="execscriptResponse_1"/><output><source property="current"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="argsName0">source</extension><extension name="argsVal0">$nomRepertoireEAI;/Mappings/$current;</extension><extension name="argsName1">cible</extension><extension name="argsVal1">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;/xmap/$current;</extension><extension name="nbArgs">2</extension><extension name="scriptText">java.nio.file.Files.copy(java.nio.file.Paths.get(source), java.nio.file.Paths.get(cible));@%$LF$%@outputString="OK";</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="f8b7853a" name="foreachActivity" nomAffiche="For Each - InputMessage - Mapping table (TAB)" open="true" select="//mappingTables/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="6d8abd1e" name="actionActivity" nomAffiche="Runscript - Copy mapping table to tmp directory"><documentation/><input formatter="Texte" property="execscriptResponse_1"/><output><source property="current"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="argsName0">source</extension><extension name="argsVal0">$nomRepertoireEAI;/Ressources/Table/$current;</extension><extension name="argsName1">cible</extension><extension name="argsVal1">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;/tables/$current;</extension><extension name="nbArgs">2</extension><extension name="scriptText">java.nio.file.Files.copy(java.nio.file.Paths.get(source), java.nio.file.Paths.get(cible));@%$LF$%@outputString="OK";</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><action comment="false" id="8496b165" name="actionActivity" nomAffiche="Select - Mapping table resource from DB "><documentation/><input formatter="XML" property="tableDeCorrespondanceXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select r.* from ressource r where r.nom='$current;' and r.type='TABLE_CORRESPONDANCE'</extension></attributes></action><action comment="false" id="1cf89d46" name="actionActivity" nomAffiche="Insert XML - Mapping table into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources</extension><extension name="sourceMessage">tableDeCorrespondanceXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="194a6237" name="foreachActivity" nomAffiche="For Each - InputMessage - Tracking templates" open="true" select="//trackingTemplates/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="41582e4a" name="actionActivity" nomAffiche="Select - Tracking template from DB"><documentation/><input formatter="XML" property="modeleSuiviXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select r.* from ressource r where r.nom='$current;' and r.type='MODELE'</extension></attributes></action><action comment="false" id="b509e12d" name="actionActivity" nomAffiche="Insert XML -  Tracking templates into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources</extension><extension name="sourceMessage">modeleSuiviXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="2b3400f" name="actionActivity" nomAffiche="Select - Tracking template properties from DB"><documentation/><input formatter="XML" property="modeleSuiviXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pr.* from ressource r, propressource pr where r.pk_ressource = pr.pk_ressource(+) and r.nom='$current;' and r.type='MODELE'</extension></attributes></action><action comment="false" id="70d1df3d" name="actionActivity" nomAffiche="Insert XML - Tracking template properties into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources/row[NOM='$current;'][TYPE='MODELE']</extension><extension name="sourceMessage">modeleSuiviXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="147df89" name="foreachActivity" nomAffiche="For Each SQLRequest" open="true" select="//SQLRequests/nom/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="1eff1fd4" name="actionActivity" nomAffiche="Select - SQL Request from DB"><documentation/><input formatter="XML" property="requeteSQLXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select r.* from ressource r where r.nom='$current;' and r.type='REQUETE_SQL'</extension></attributes></action><action comment="false" id="604c9c0f" name="actionActivity" nomAffiche="Insert XML - SQL Request into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources</extension><extension name="sourceMessage">requeteSQLXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="a5bceb95" name="actionActivity" nomAffiche="Select - SQL Request properties from DB"><documentation/><input formatter="XML" property="selectReponse"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pr.* from ressource r, propressource pr where r.pk_ressource = pr.pk_ressource(+) and r.nom='$current;' and r.type='REQUETE_SQL'</extension></attributes></action><action comment="false" id="e66bd91" name="actionActivity" nomAffiche="Insert XML - SQL Request properties into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources/row[NOM='$current;'][TYPE='REQUETE_SQL']</extension><extension name="sourceMessage">selectReponse</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="a82d367a" name="foreachActivity" nomAffiche="For Each - InputMessage - Switch" open="true" select="//switches/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="5aad66b0" name="actionActivity" nomAffiche="Select - Switch from DB - routeurXML"><documentation/><input formatter="XML" property="routeurXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select r.* from ressource r where r.nom='$current;' and r.type='ROUTEUR'</extension></attributes></action><action comment="false" id="aea9703c" name="actionActivity" nomAffiche="Insert XML - Switches into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources</extension><extension name="sourceMessage">routeurXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="cf11e35a" name="actionActivity" nomAffiche="Select - Switch Properties from DB"><documentation/><input formatter="XML" property="routeurXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pr.* from ressource r, propressource pr where r.pk_ressource = pr.pk_ressource(+) and r.nom='$current;' and r.type='ROUTEUR'</extension></attributes></action><action comment="false" id="6507dc31" name="actionActivity" nomAffiche="Insert XML - Switch Properties into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources/row[NOM='$current;'][TYPE='ROUTEUR']</extension><extension name="sourceMessage">routeurXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="44c8cfcc" name="foreachActivity" nomAffiche="For Each - InputMessage - User" open="true" select="//users/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><assign comment="false" formatter="Texte" id="254381ea" name="assignActivity" nomAffiche="Assign variable - current - login" property="login"><documentation/><source/><value>$current;</value></assign><action comment="false" id="315bb82c" name="actionActivity" nomAffiche="Select - User properties from DB"><documentation/><input formatter="XML" property="utilisateurXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select u.* from UTILISATEUR u where u.LOGIN='$login;'</extension></attributes></action><action comment="false" id="5168ca23" name="actionActivity" nomAffiche="Insert XML - User properties into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//utilisateurs</extension><extension name="sourceMessage">utilisateurXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="becd6303" name="actionActivity" nomAffiche="Select - User groups from DB - groupesXML"><documentation/><input formatter="XML" property="groupesXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select gu.* from UTILISATEUR u, GROUPE_UTILISATEUR gu where u.PK_UTILISATEUR = gu.PK_UTILISATEUR and u.login='$login;'</extension></attributes></action><action comment="false" id="96f127e9" name="actionActivity" nomAffiche="Run script - Replace row with rowGroupe - groupesXML"><documentation/><input formatter="XML" property="groupesXML"/><output><source property="groupesXML"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="nbArgs">0</extension><extension name="scriptText">outputString = inputString.replaceAll("&lt;row&gt;","&lt;rowGroupe&gt;").replaceAll("&lt;/row&gt;","&lt;/rowGroupe&gt;").replaceAll("&lt;row/&gt;","&lt;rowGroupe/&gt;")</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><action comment="false" id="4d67d37e" name="actionActivity" nomAffiche="Insert XML - groupesXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//utilisateurs/row[LOGIN='$login;']</extension><extension name="sourceMessage">groupesXML</extension><extension name="sourceXPath">//resultSet/rowGroupe</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="c9391ea0" name="actionActivity" nomAffiche="Select - User tabs from DB - ongletsXML"><documentation/><input formatter="XML" property="ongletsXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select ur.*,r.DESCRIPTION from UTILISATEUR u, UTILISATEUR_RESSOURCE ur, RESSOURCE r where u.PK_UTILISATEUR = ur.PK_UTILISATEUR and u.LOGIN='$login;' and ur.PK_RESSOURCE=r.PK_RESSOURCE and r.TYPE='ONGLET_STR'</extension></attributes></action><action comment="false" id="f7e85c2c" name="actionActivity" nomAffiche="Run script - Replace row with rowOnglet"><documentation/><input formatter="XML" property="ongletsXML"/><output><source property="ongletsXML"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="nbArgs">0</extension><extension name="scriptText">outputString = inputString.replaceAll("&lt;row&gt;","&lt;rowOnglet&gt;").replaceAll("&lt;/row&gt;","&lt;/rowOnglet&gt;").replaceAll("&lt;row/&gt;","&lt;rowOnglet/&gt;")</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><action comment="false" id="440843d2" name="actionActivity" nomAffiche="Insert XML - ongletsXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//utilisateurs/row[LOGIN='$login;']</extension><extension name="sourceMessage">ongletsXML</extension><extension name="sourceXPath">//resultSet/rowOnglet</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><foreach comment="false" formatter="XML" id="9af9b047" name="foreachActivity" nomAffiche="For Each - ongletsXML - Onglet " open="true" select="//rowOnglet" xpathVersion1="true"><documentation/><source property="ongletsXML"/><action comment="false" id="334afe69" name="actionActivity" nomAffiche="XPath Query - PK_RESSOURCE - identifiantOnglet"><documentation/><input formatter="Texte" property="identifiantOnglet"/><output><source property="current"/></output><attributes xmlns=""><extension name="activityName">requeteXpath</extension><extension name="requete_xpath">//PK_RESSOURCE/text()</extension><extension name="root_name">root</extension><extension name="actionVide">chainevide</extension><extension name="useOutputEncoding">true</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="bbfa19c7" name="actionActivity" nomAffiche="Select - Tab properties - ongletXML"><documentation/><input formatter="XML" property="selectReponse"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pr.* from PROPRESSOURCE pr where pr.PK_RESSOURCE = '$identifiantOnglet;'</extension></attributes></action><action comment="false" id="6874aa54" name="actionActivity" nomAffiche="Insert XML - ongletXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//utilisateurs/row[LOGIN='$login;']/rowOnglet[PK_RESSOURCE='$identifiantOnglet;']</extension><extension name="sourceMessage">selectReponse</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><action comment="false" id="cd87d657" name="actionActivity" nomAffiche="Select - User notifications from DB - notificationsXML"><documentation/><input formatter="XML" property="notificationsXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select un.* from UTILISATEUR u, USER_NOTIF un where u.PK_UTILISATEUR = un.PK_USER and u.LOGIN='$login;'</extension></attributes></action><action comment="false" id="5706db98" name="actionActivity" nomAffiche="ExÃ©cute script - Replace row with rowNotif - notificationsXML"><documentation/><input formatter="XML" property="notificationsXML"/><output><source property="notificationsXML"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="nbArgs">0</extension><extension name="scriptText">outputString = inputString.replaceAll("&lt;row&gt;","&lt;rowNotif&gt;").replaceAll("&lt;/row&gt;","&lt;/rowNotif&gt;").replaceAll("&lt;row/&gt;","&lt;rowNotif/&gt;")</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><action comment="false" id="df4eb543" name="actionActivity" nomAffiche="Insert XML - notificationsXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//utilisateurs/row[LOGIN='$login;']</extension><extension name="sourceMessage">notificationsXML</extension><extension name="sourceXPath">//resultSet/rowNotif</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><foreach comment="false" formatter="XML" id="8652dc04" name="foreachActivity" nomAffiche="For Each - notificationsXML - Notification" open="true" select="//rowNotif" xpathVersion1="true"><documentation/><source property="notificationsXML"/><action comment="false" id="7e478fc" name="actionActivity" nomAffiche="XPath Query - PK_USER_NOTIF - identifiantNotification"><documentation/><input formatter="Texte" property="identifiantNotification"/><output><source property="current"/></output><attributes xmlns=""><extension name="activityName">requeteXpath</extension><extension name="requete_xpath">//PK_USER_NOTIF/text()</extension><extension name="root_name">root</extension><extension name="actionVide">chainevide</extension><extension name="useOutputEncoding">true</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="9a8cdc47" name="actionActivity" nomAffiche="Select - User notification from DB - notificationXML"><documentation/><input formatter="XML" property="notificationXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select una.* from USER_NOTIF_APPLI una where una.PK_USER_NOTIF = '$identifiantNotification;'</extension></attributes></action><action comment="false" id="6d3c1940" name="actionActivity" nomAffiche="Insert XML - notificationXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//utilisateurs/row[LOGIN='$login;']/rowNotif[PK_USER_NOTIF='$identifiantNotification;']</extension><extension name="sourceMessage">notificationXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><context/></foreach><foreach comment="false" formatter="Texte" id="b39a58bc" name="foreachActivity" nomAffiche="For Each - InputMessage - Group" open="true" select="//groups/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="c7b22d9a" name="actionActivity" nomAffiche="Select - Groups from DB - groupeXML"><documentation/><input formatter="XML" property="groupeXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select g.* from groupe g where g.nom='$current;'</extension></attributes></action><action comment="false" id="2c21e4b7" name="actionActivity" nomAffiche="Insert XML - groupeXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//groupes</extension><extension name="sourceMessage">groupeXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="39d1ece4" name="foreachActivity" nomAffiche="For Each - InputMessage - Supervision module" open="true" select="//supervisionModules/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="2e97e3f8" name="actionActivity" nomAffiche="Select - Supervision module from DB - supervisionXML"><documentation/><input formatter="XML" property="supervisionXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select r.* from ressource r where r.nom='$current;' and r.type='MODULE_SUPERVISION'</extension></attributes></action><action comment="false" id="aa2bb62f" name="actionActivity" nomAffiche="Insert XML - supervisionXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources</extension><extension name="sourceMessage">supervisionXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="517e3554" name="actionActivity" nomAffiche="Select - Supervision module properites from DB - supervisionXML"><documentation/><input formatter="XML" property="supervisionXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pr.* from ressource r, propressource pr where r.pk_ressource = pr.pk_ressource(+) and r.nom='$current;' and r.type='MODULE_SUPERVISION'</extension></attributes></action><action comment="false" id="24b11a57" name="actionActivity" nomAffiche="Insert XML - supervisionXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources/row[NOM='$current;'][TYPE='MODULE_SUPERVISION']</extension><extension name="sourceMessage">supervisionXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="a6cd444f" name="foreachActivity" nomAffiche="For Each - InputMessage - Format" open="true" select="//formats/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="3ca938fe" name="actionActivity" nomAffiche="Select - Format from DB - formatXML"><documentation/><input formatter="XML" property="formatXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select f.* from format f where f.nom='$current;'</extension></attributes></action><action comment="false" id="f99864cf" name="actionActivity" nomAffiche="Insert XML - formatXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//formats</extension><extension name="sourceMessage">formatXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="85708608" name="actionActivity" nomAffiche="XPath query - Format type - typeDeFormat"><documentation/><input formatter="Texte" property="typeDeFormat"/><output><source property="formatXML"/></output><attributes xmlns=""><extension name="activityName">requeteXpath</extension><extension name="requete_xpath">//row/TYPE/text()</extension><extension name="root_name">root</extension><extension name="actionVide">chainevide</extension><extension name="useOutputEncoding">true</extension><extension name="xpathVersion1">false</extension></attributes></action><switch id="24b6eb9f" name="switchActivity"><case comment="false" id="5d1e233b" nomAffiche="If - typeDeFormat == 'Universel' - Copie du fichier XEFF" open="true"><documentation/><condition expression="$typeDeFormat;=='Universel'"/><context/><action comment="false" id="14800761" name="actionActivity" nomAffiche="XPath query - Format type - identifiantFormat"><documentation/><input formatter="Texte" property="identifiantFormat"/><output><source property="formatXML"/></output><attributes xmlns=""><extension name="activityName">requeteXpath</extension><extension name="requete_xpath">//row/PK_FORMAT/text()</extension><extension name="root_name">root</extension><extension name="actionVide">chainevide</extension><extension name="useOutputEncoding">true</extension><extension name="xpathVersion1">false</extension></attributes></action><action comment="false" id="82d5849c" name="actionActivity" nomAffiche="Select - Format properties from DB - proprieteXEFFFormatXML"><documentation/><input formatter="XML" property="proprieteXEFFFormatXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pf.* from propformat pf where pf.pk_format=$current; and nom='formatDesc'</extension></attributes></action><action comment="false" id="5d6340d3" name="actionActivity" nomAffiche="XPath Query - VALEUR - nomFichierXEFF"><documentation/><input formatter="Texte" property="nomFichierXEFF"/><output><source property="proprieteXEFFFormatXML"/></output><attributes xmlns=""><extension name="activityName">requeteXpath</extension><extension name="requete_xpath">//VALEUR/text()</extension><extension name="root_name">root</extension><extension name="actionVide">chainevide</extension><extension name="useOutputEncoding">true</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="ca01526b" name="actionActivity" nomAffiche="Run script - Copy nomFichierXEFF into tmp directory"><documentation/><input formatter="Texte" property="execscriptResponse_1"/><output><source property="current"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="argsName0">source</extension><extension name="argsVal0">$nomRepertoireEAI;/Ressources/EnovacomFileFormat/$nomFichierXEFF;</extension><extension name="argsName1">cible</extension><extension name="argsVal1">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;/enovacomFileFormat/$nomFichierXEFF;</extension><extension name="nbArgs">2</extension><extension name="scriptText">java.nio.file.Files.copy(java.nio.file.Paths.get(source), java.nio.file.Paths.get(cible));@%$LF$%@outputString="OK";</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action></case><default comment="false" id="9a3fa4a1" nomAffiche="Else - Pas de copie Ã  faire" open="true"><documentation/><condition/><context/></default></switch><action comment="false" id="8bb8c340" name="actionActivity" nomAffiche="Select format properties from DB - formatXML"><documentation/><input formatter="XML" property="formatXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pf.* from format f, propformat pf where f.pk_format=pf.pk_format and f.nom='$current;'</extension></attributes></action><action comment="false" id="a69bee9e" name="actionActivity" nomAffiche="Insert XML - formatXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//formats/row[NOM='$current;']</extension><extension name="sourceMessage">formatXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="1c7da04b" name="foreachActivity" nomAffiche="For Each - InputMessage - Document type" open="true" select="//documentTypes/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="12b7b395" name="actionActivity" nomAffiche="Select - Document type from DB - typeDocumentXML"><documentation/><input formatter="XML" property="typeDocumentXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select * from typedocument where nom='$current;'</extension></attributes></action><action comment="false" id="82a030ac" name="actionActivity" nomAffiche="Insert XML - typeDocumentXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//typeDocs</extension><extension name="sourceMessage">typeDocumentXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="fd7145a7" name="foreachActivity" nomAffiche="For Each - InputMessage - Application template" open="true" select="//applicationTemplate/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="ec1c1989" name="actionActivity" nomAffiche="Select - Application template from DB - modeleApplicationXML"><documentation/><input formatter="XML" property="modeleApplicationXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select a.* from application a where a.type='TEMPLATE' and a.nom='$current;'</extension></attributes></action><action comment="false" id="faff7d0f" name="actionActivity" nomAffiche="Insert XML - modeleApplicationXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//modeles</extension><extension name="sourceMessage">modeleApplicationXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="db0cb84e" name="actionActivity" nomAffiche="Select - Application template properties from DB - modeleApplicationXML"><documentation/><input formatter="XML" property="modeleApplicationXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pa.* from application a, propriete_application pa where a.type='TEMPLATE' and pa.pk_application=a.pk_application and a.nom='$current;'</extension></attributes></action><action comment="false" id="93938fba" name="actionActivity" nomAffiche="Insert XML - modeleApplicationXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//modeles/row[NOM='$current;']</extension><extension name="sourceMessage">modeleApplicationXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="57d6f88f" name="foreachActivity" nomAffiche="For Each - InputMessage - Application" open="true" select="//applications/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="83f4e076" name="actionActivity" nomAffiche="Select - Application from DB - applicationXML"><documentation/><input formatter="XML" property="applicationXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select a.* from application a where a.nom='$current;'</extension></attributes></action><action comment="false" id="f26a7dd0" name="actionActivity" nomAffiche="Insert XML - applicationXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//applis</extension><extension name="sourceMessage">applicationXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="4626892c" name="actionActivity" nomAffiche="Select - Application properties from DB - applicationXML"><documentation/><input formatter="XML" property="applicationXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pa.* from application a, propriete_application pa where pa.pk_application=a.pk_application and a.nom='$current;'</extension></attributes></action><action comment="false" id="fd259f58" name="actionActivity" nomAffiche="Insert XML - applicationXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//applis/row[NOM='$current;']</extension><extension name="sourceMessage">applicationXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="acdf6f97" name="foreachActivity" nomAffiche="For Each - InputMessage - Property" open="true" select="//properties/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="8664168" name="actionActivity" nomAffiche="Select - Properties from DB - proprieteXML"><documentation/><input formatter="XML" property="proprieteXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select * from propriete where nom='$current;'</extension></attributes></action><action comment="false" id="4a228475" name="actionActivity" nomAffiche="Insert XML - proprieteXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//proprietes</extension><extension name="sourceMessage">proprieteXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="83520b89" name="foreachActivity" nomAffiche="For Each - InputMessage - Datasource" open="true" select="//dataSources/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="312203b0" name="actionActivity" nomAffiche="Select - Datasource from DB - sourceXML"><documentation/><input formatter="XML" property="sourceXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select r.* from ressource r where r.nom='$current;' and r.type='JDBC_DATA_SOURCE'</extension></attributes></action><action comment="false" id="76205ef" name="actionActivity" nomAffiche="Insert XML - sourceXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources</extension><extension name="sourceMessage">sourceXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="7ae2fd06" name="actionActivity" nomAffiche="Select - Datasource properties from DB - sourceXML"><documentation/><input formatter="XML" property="sourceXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select pr.* from ressource r, propressource pr where r.pk_ressource = pr.pk_ressource(+) and r.nom='$current;' and r.type='JDBC_DATA_SOURCE'</extension></attributes></action><action comment="false" id="2ab42e67" name="actionActivity" nomAffiche="Insert XML - sourceXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//ressources/row[NOM='$current;'][TYPE='JDBC_DATA_SOURCE']</extension><extension name="sourceMessage">sourceXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><foreach comment="false" formatter="Texte" id="91677f6d" name="foreachActivity" nomAffiche="For Each - InputMessage - Notification" open="true" select="//notifications/name/text()" xpathVersion1="true"><documentation/><source property="InputMessage"/><action comment="false" id="ee4cc7aa" name="actionActivity" nomAffiche="Select - Ressource Notification - signalementXML"><documentation/><input formatter="XML" property="signalementXML"/><attributes xmlns=""><extension name="activityName">SqlSelect</extension><extension name="jdbcSource">EAI</extension><extension name="compatibilite280">false</extension><extension name="query">select tn.* from TYPENOTIFICATION tn where tn.nom='$current;'</extension></attributes></action><action comment="false" id="ff5255db" name="actionActivity" nomAffiche="Insert XML - signalementXML into infosBDD"><documentation/><input formatter="XML" property="infosBDD"/><attributes xmlns=""><extension name="activityName">insereMessageXml</extension><extension name="targetXPath">//signalements</extension><extension name="sourceMessage">signalementXML</extension><extension name="sourceXPath">//resultSet/row</extension><extension name="targetMessage">infosBDD</extension><extension name="insertPosition">append</extension><extension name="xpathVersion1">true</extension></attributes></action><context/></foreach><action comment="false" id="74ddb4bf" name="actionActivity" nomAffiche="XSL Transformation - infosBDD to sauvegardeBDD"><documentation/><input formatter="XML" property="sauvegardeBDD"/><output><source property="infosBDD"/></output><attributes xmlns=""><extension name="activityName">stylesheet</extension><extension name="stylesheetLocation">SYSTEM_BDD_TO_EXPORTCONFIG.xsl</extension><extension name="xpathVersion1">true</extension></attributes></action><action comment="false" id="2b90c449" name="actionActivity" nomAffiche="Write file - sauvegardeBDD - tmp directory/sauvegardeBdd.xml"><documentation/><output><source property="sauvegardeBDD"/></output><attributes xmlns=""><extension name="activityName">fileWrite</extension><extension name="maxWaitingTime">3600</extension><extension name="attemptNumber">1</extension><extension name="fileName">sauvegardeBdd.xml</extension><extension name="delairetr">60</extension><extension name="conf3"/><extension name="conf1"/><extension name="conf2b"/><extension name="isUniqueName">false</extension><extension name="conf2a"/><extension name="uri">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;</extension><extension name="append">false</extension><extension name="waitIfPresent">false</extension></attributes></action><action comment="false" id="828e1c15" name="actionActivity" nomAffiche="Execute Command - Zip contents into config.zip"><documentation/><input formatter="Texte" property="runCommandResponse_1"/><attributes xmlns=""><extension name="activityName">runCommand</extension><extension name="workingDir">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;</extension><extension name="cmd">jar -cfM ../$fileName; ./*</extension></attributes></action><action comment="false" id="a59ce608" name="actionActivity" nomAffiche="Read file ZIP - workdir/config.zip - fileReadZIP"><documentation/><input formatter="Binaire" property="fileReadZIP"/><attributes xmlns=""><extension name="activityName">fileRead</extension><extension name="fileName">$fileName;</extension><extension name="uri">$nomRepertoireDeTravail;</extension></attributes></action><action comment="false" id="70aa4181" name="actionActivity" nomAffiche="Run script - Remove tmpdir"><documentation/><input formatter="Texte" property="execscriptResponse_1"/><output><source property="fileName"/></output><attributes xmlns=""><extension name="activityName">execscript</extension><extension name="scriptPath"/><extension name="langage">false</extension><extension name="argsName0">nomRepertoire</extension><extension name="argsVal0">$nomRepertoireDeTravail;/$nomRepertoireTemporaire;</extension><extension name="nbArgs">1</extension><extension name="scriptText">(new File(nomRepertoire)).deleteDir();@%$LF$%@outputString="OK";</extension><extension name="outputStringName">outputString</extension><extension name="useOutputEncoding">true</extension><extension name="inputStringName">inputString</extension></attributes></action><action comment="false" id="58767c12" name="actionActivity" nomAffiche="Base 64 - Convert zip into base64 - fileReadZIP"><documentation/><input formatter="Binaire" property="fileReadZIP"/><output><source property="fileReadZIP"/></output><attributes xmlns=""><extension name="activityName">base64</extension><extension name="decode_base64">false</extension></attributes></action><action comment="false" id="3df17833" name="actionActivity" nomAffiche="Create message - Enovacom message with fileReadZIP content - InputMessage"><documentation/><input formatter="XML" property="InputMessage"/><attributes xmlns=""><extension name="activityName">creationMessage</extension><extension name="user_message">&lt;enovacomMessage&gt;@%$LF$%@ &lt;rows&gt;@%$LF$%@ &lt;responseInformation&gt;@%$LF$%@ &lt;contentType&gt;application/octet-stream&lt;/contentType&gt;@%$LF$%@ &lt;/responseInformation&gt;@%$LF$%@ &lt;responseHeader&gt;@%$LF$%@ &lt;User-Agent&gt;xxx&lt;/User-Agent&gt;@%$LF$%@ &lt;Content-disposition&gt;attachment;filename=$fileName;&lt;/Content-disposition&gt;@%$LF$%@ &lt;otherHeaders&gt;@%$LF$%@ &lt;otherHeader&gt;@%$LF$%@ &lt;name&gt;x-eai&lt;/name&gt;@%$LF$%@ &lt;value&gt;bernard&lt;/value&gt;@%$LF$%@ &lt;/otherHeader&gt;@%$LF$%@ &lt;/otherHeaders&gt;@%$LF$%@ &lt;/responseHeader&gt;@%$LF$%@ &lt;content&gt;$fileReadZIP;&lt;/content&gt;@%$LF$%@ &lt;/rows&gt;@%$LF$%@&lt;/enovacomMessage&gt;</extension><extension name="useOutputEncoding">true</extension></attributes></action><assign comment="false" formatter="Texte" id="bb23b3ee" name="assignActivity" nomAffiche="Assign variable - fileName" property="InputIddocument"><documentation/><source/><value>$fileName;</value></assign><action comment="false" id="cc194c13" name="actionActivity" nomAffiche="Run scenario - Empty Scenario - InputMessage"><documentation/><input formatter="Texte" property="runRouteResponse_1"/><output><source property="InputMessage"/></output><attributes xmlns=""><extension name="activityName">runRoute</extension><extension name="routeKey">Package archive follow-up</extension><extension name="sendmode">asynchrone</extension></attributes></action><attributes xmlns=""><extension name="activityName">eventAction</extension><extension name="maxNumberOfThreads">3</extension></attributes></action></process></package>
